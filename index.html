<!DOCTYPE html>
<html class="fontawesome-i2svg-active fontawesome-i2svg-complete">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta property="og:title" content="Grounded Text-to-Image Synthesis with Attention Refocusing">
  <meta property="og:image" content="./images/teaser.jpg">
  <meta property="og:description" content="Grounded Text-to-Image Synthesis with Attention Refocusing">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="663">
  <meta property="og:type" content="website">

  <!-- Google tag (gtag.js) -->
  <script async="" src="./assets/js"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-9VZKE74FPW');
  </script>




  <title>Grounded Text-to-Image Synthesis with Attention Refocusing</title>

  <link href="./assets/css" rel="stylesheet">
  <link rel="stylesheet" href="./assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="./assets/css/bulma.min.css">
  <link rel="stylesheet" href="./assets/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./assets/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./assets/css/tab_gallery.css">
  <link rel="stylesheet" href="./assets/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="./assets/css/academicons.min.css">
  <link rel="stylesheet" href="./assets/css/index.css">
  <link rel="stylesheet" href="./assets/css/juxtapose.css">

  <script src="./assets/js/jquery.min.js"></script>
  <script src="./assets/js/index.js"></script>
  <script defer="" src="./assets/js/fontawesome.all.min.js"></script>
  <script src="./assets/js/bulma-carousel.min.js"></script>
  <script src="./assets/js/bulma-slider.min.js"></script>
  <script src="./assets/js/magnifier.js"></script>
  <link href="./assets/menlo" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Monoton' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Akronim' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Sofia ' rel='stylesheet'>
  <link rel="stylesheet" href="./assets/css/image_card_fader.css">
  <link rel="stylesheet" href="./assets/css/image_card_slider.css">
  

  <!-- <link href="./assets/css" rel="stylesheet">
  <link rel="stylesheet" href="./assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="./assets/css/bulma.min.css">
  <link rel="stylesheet" href="./assets/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./assets/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./assets/css/tab_gallery.css">
 
  <link rel="stylesheet" href="./assets/css/academicons.min.css">
  <link rel="stylesheet" href="./assets/css/index.css">
  <link rel="stylesheet" href="./assets/css/juxtapose.css">
  <link rel="stylesheet" href="./assets/css/image_card_fader.css">
  <link rel="stylesheet" href="./assets/css/image_card_slider.css"> -->


<!-- 
  <link href='https://fonts.googleapis.com/css?family=Monoton' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Akronim' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Sofia ' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=VT323 ' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Playfair Display ' rel='stylesheet'>
  <script src="./assets/js/index.js"></script>
  <script src="./assets/js/juxtapose.js"></script>
  <script src="./assets/js/popper.min.js"></script>
  <script src="./assets/js/jquery.min.js"></script>
  <script src="./assets/js/bootstrap.min.js"></script>
  <script defer="" src="./assets/js/fontawesome.all.min.js"></script>
  <script src="./assets/js/bulma-carousel.min.js"></script>
  <script src="./assets/js/bulma-slider.min.js"></script>
  <script src="./assets/js/magnifier.js"></script>
  <link href="./assets/menlo" rel="stylesheet"> -->

  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->

  <style>
    @import url('https://fonts.cdnfonts.com/css/menlo');
  </style> 
</head>



<body data-new-gr-c-s-check-loaded="14.1098.0" data-gr-ext-installed="">

  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-2 publication-title">Grounded Text-to-Image Synthesis with Attention Refocusing</h1>
            <div class="is-size-5 publication-authors">
                <span class="author-block"> 
                <a href='https://qqphung.github.io/'>Quynh Phung</a>   </span>
                <span class="author-block">
                <a href="https://mingukkang.github.io/">Songwei Ge</a>   </span>
              
              <span class="author-block">
                <a href="https://jbhuang0604.github.io/">Jia-Bin Huang</a>
              </span>
            </div>
            <div class="is-size-5 publication-authors">
              <span class="author-block">University of Maryland, College Park</span>
            </div>
            <!-- <div class="is-size-5 publication-venue">
              in Submission
            </div> -->
           <!-- <div class="is-size-5 publication-venue">
              Anonymous Authors
            </div> -->
            
          

            <div class="column has-text-centered">
              <div class="publication-links">
                <span class="link-block">
                  <a href="https://arxiv.org/pdf/2306.05427.pdf" class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <svg class="svg-inline--fa fa-file-pdf fa-w-12" aria-hidden="true" focusable="false"
                        data-prefix="fas" data-icon="file-pdf" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 384 512" data-fa-i2svg="">
                        <path fill="currentColor"
                          d="M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z">
                        </path>
                      </svg>
                    </span>
                    <span>Paper</span>
                  </a>
                </span>

                <span class="link-block">
                  <a href="https://github.com/Attention-Refocusing/attention-refocusing" class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <svg class="svg-inline--fa fa-github fa-w-16" aria-hidden="true" focusable="false"
                        data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 496 512" data-fa-i2svg="">
                        <path fill="currentColor"
                          d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z">
                        </path>
                      </svg><!-- <i class="fab fa-github"></i> Font Awesome fontawesome.com -->
                    </span>
                    <span>Code</span>
                  </a>
                </span>
                <span class="link-block">
                  <a href="https://huggingface.co/spaces/attention-refocusing/Attention-refocusing" class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fas fa-edit"></i>
                    </span>
                    <span>Demo</span>
                  </a>
                </span>
               
              </div>
            </div>
          </div>
        </div>
        <!-- <h2 class="title is-3" style="font-family:roboto; font-size:22px;" align="left">Content of the website:</h2>
        <nav>
          <ul>
            <li><a href="#composition">Compositional Generation</a></li>
            <li><a href="#Plug-and-Play">Plug-and-Play attention refocusing to various text-to-image models</a></li>
            <li><a href="#gligen">Applying Attention Refocusing to GLIGEN</a></li>
            <li><a href="#ablation">Ablation study</a></li>
            <li><a href="#4methods">Comparison with existing methods</a></li>
            <li><a href="#control">Mask-based guidance</a></li>
            <li><a href="#application">Additional applications</a></li>
            <li><a href="#2stage">Two stages text-to-image generation</a></li>
            <li><a href="#dalle">Comparison between our two-stage text-to-image model and existing state-of-the-art methods</a></li>
            <li><a href="#niceprompt">Diverse generation from our method (GLIGEN+Ours)</a></li>
            
            
          </ul>
        </nav> -->
        <!-- <div class="has-text-justified">
          <div class="columns is-centered">
            
           
           <video id="dollyzoom" autoplay="" controls="" muted="" loop="" playsinline="">
            <source src="./images/intro.mp4" type="video/mp4" >
          </video> 
          </div>
          -->
        </div>
        
      </div>
      
    </div>
    
  </section>
  <section class="hero is-light">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column is-full-width">
            <div class="content has-text-centered">
              
              <img src="images/teaser_v2.png" width="150%">
            </div>
          </div>
        </div>
        <p>
          Controllable text-to-image synthesis with attention refocusing. We introduce a new framework to improve the controllability of
          text-to-image synthesis given the text prompts. We first leverage GPT-4 to generate layouts from the text prompts and then use grounded
          text-to-image methods to generate the images given the layouts and prompts. However, the detailed information, like the quantity, identity,
          and attributes, is often still incorrect or mixed in the existing models. We propose a training-free method, attention-refocusing, to improve
          on these aspects substantially. Our method is model-agnostic and can be applied to enhance the control capacity of methods like GLIGEN
          (top row) and ControlNet (bottom rows)
        </p>
        
          
        
      </div>
    </div>
  </section>


  
  <section class="hero" id="composition">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <h1 class="title is-3 has-text-centered" style="margin-bottom: 50px;margin-top:-20px;">Compositional Generation</h1>
        <div class="columns is-centered">
          <div class="col-md-4">
            <!-- <h3 align="left"><strong>Animal:&nbsp;</strong></h3> -->
            <nav class="nav nav-pills" id="current-pro-ul" style="margin-bottom: 50px;margin-top: 50px;">
              <a class="flex-sm-fill text-sm-center nav-link active" id="pro_tab0" href="javascript: void(0);"
                onclick="ChangeProtagonist(0);">
                <h5>a panda</h5>
              </a> 
              
              <a class="flex-sm-fill text-sm-center nav-link" id="pro_tab1" href="javascript: void(0);"
                onclick="ChangeProtagonist(1);">
                <h5>a cat</h5>
              </a>
              <a class="flex-sm-fill text-sm-center nav-link" id="pro_tab1" href="javascript: void(0);"
                onclick="ChangeProtagonist(2);">
                <h5>a raccoon</h5>
              </a>
              <a class="flex-sm-fill text-sm-center nav-link " id="pro_tab2" href="javascript: void(0);"
                onclick="ChangeProtagonist(3);">
                <h5 >a shiba inu dog</h5>
              </a>
              
            </nav>
            <h3 align="left"><strong>Wearing&nbsp;</strong></h3>
            <nav class="nav nav-pills" id="current-act-ul" style="margin-bottom: 50px;">
              <a class="flex-sm-fill text-sm-center nav-link active" id="act_tab0" href="javascript: void(0);"
                onclick="ChangeWearing(0);">
                <h5>a crown</h5>
              </a>
              <a class="flex-sm-fill text-sm-center nav-link" id="act_tab0" href="javascript: void(0);"
                onclick="ChangeWearing(1);">
                <h5>a party hat</h5>
              </a>
              <a class="flex-sm-fill text-sm-center nav-link" id="act_tab0" href="javascript: void(0);"
                onclick="ChangeWearing(2);">
                <h5>a cowboy hat</h5>
              </a>
              <a class="flex-sm-fill text-sm-center nav-link" id="act_tab0" href="javascript: void(0);"
                onclick="ChangeWearing(3);">
                <h5>a mushroom</h5>
              </a>
            </nav>
            <h3 align="left"><strong>Next to&nbsp;</strong></h3>
            <nav class="nav nav-pills" id="current-loc-ul">
              <a class="flex-sm-fill text-sm-center nav-link active" id="loc_tab2" href="javascript: void(0);"
                onclick="ChangeObject(0);">
                <h5>a TV</h5>
              </a>

              
              <a class="flex-sm-fill text-sm-center nav-link" id="loc_tab0" href="javascript: void(0);"
                onclick="ChangeObject(1);">
                <h5>a birthday cake</h5>
              </a>
              <a class="flex-sm-fill text-sm-center nav-link " id="loc_tab1" href="javascript: void(0);"
                onclick="ChangeObject(2);">
                <h5>a potted plant</h5>
              </a>
            </nav>
          </div>
          <div class="col-md-1">
          </div>
          <div class="col-md-3" id="output_canvas">
            <div class="row justify-content-center">
              <img src="./images/compositionality/panda_crown_tv.jpg" id="output_image">
            </div>
          </div>
        </div>
      </div>
      <br>
  </section>

 

 

  

    <!--/4 method -->
   <section class="hero is-light" id="Plug-and-Play">
    <div class="hero-body">
      <div class="container is-max-desktop is-centered">
        <h2 class="title has-text-centered">Plug-and-Play attention refocusing to various text-to-image models</h2>
        <div id="results-carousel" class="carousel results-carousel">
          <div class="item item-steve" style="align-items: center;">
            <img src="images/SD_AE_MD/SD_dragon_4.png" id="output_image">
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="images/SD_AE_MD/SD_woman_3.png" id="output_image"  >
          </div>
          
          <div class="item item-steve" style="align-items: center;">
            <img src="images/SD_AE_MD/SD_cow_3.png" id="output_image">
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="images/SD_AE_MD/SD_teedy_2.png" id="output_image"  >
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="images/SD_AE_MD/LG_dog_3.png" id="output_image" >
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="images/SD_AE_MD/LG_orange_3.png" id="output_image" >
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="images/SD_AE_MD/GL_person_4.png" id="output_image">
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="images/SD_AE_MD/GL_horse_3.png" id="output_image">
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="images/SD_AE_MD/fox_v2.png" id="output_image"  >
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="images/SD_AE_MD/AE_giraffe_3.png" id="output_image"  >
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="images/SD_AE_MD/img_apple_2.png" id="output_image">
          </div>
          
          <div class="item item-steve" style="align-items: center;">
            <img src="images/SD_AE_MD/img_MD_3_dog.png" id="output_image">
          </div>
          <!-- <div class="item item-steve" style="align-items: center;">
            <img src="images/SD_AE_MD/fox.png" id="output_image">
          </div> -->
          
        </div>
      </div>
    </div>
  </section>

  <!-- Gligen -->
  <section class="hero " id="gligen">
    <div class="hero-body">
      <div class="container is-max-desktop is-centered">
        <h2 class="title has-text-centered">Applying Attention Refocusing to GLIGEN [Li et al. CVPR 2023] </h2>
        <div id="results-carousel" class="carousel results-carousel">
          <!-- <div class="item item-shiba">
            <img src="./images/gligen/img_apple.png" id="output_image">
            
          </div>

          <div class="item item-steve" style="align-items: center;">
            <img src="./images/gligen/img_fox.png" id="output_image" >
           
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="./images/gligen/img_astronaut.png" id="output_image" >
           
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="./images/gligen/img_christmas.png" id="output_image" >
           
          </div> -->

          <div class="item item-steve" style="align-items: center;">
            <img src="./images/gligen/img_brocolli.png" id="output_image" >
           
          </div>
          
          <div class="item item-chair-tp">
            
            <img src="./images/gligen/img3.png" id="output_image">
            <!-- <video poster="" id="chair-tp" autoplay controls muted loop playsinline height="100%">
              <source src="./static/videos/chair-tp.mp4"
                      type="video/mp4">
            </video> -->
          </div>
          <div class="item item-shiba">
            <img src="./images/gligen/img5.png" id="output_image">
            <!-- <video poster="" id="shiba" autoplay controls muted loop playsinline height="100%">
              <source src="./static/videos/shiba.mp4"
                      type="video/mp4">
            </video> -->
          </div>
          <div class="item item-shiba">
            <img src="./images/gligen/img6.png" id="output_image">
            
          </div>
          <div class="item item-shiba">
            <img src="./images/gligen/img_7.png" id="output_image">
            
          </div>
          <div class="item item-shiba">
            <img src="./images/gligen/img_8.png" id="output_image">
            
          </div>
          <div class="item item-shiba">
            <img src="./images/gligen/img_9.png" id="output_image">
            
          </div>
          <div class="item item-shiba">
            <img src="./images/gligen/img_10.png" id="output_image">
            
          </div>
          <div class="item item-shiba">
            <img src="./images/gligen/img_horse_air.png" id="output_image">
            
          </div>
          <div class="item item-shiba">
            <img src="./images/gligen/img_11.png" id="output_image">
            
          </div>
         
        </div>
      </div>
    </div>
  </section>

<!-- 4 gligen end -->
<!-- ablation -->
<section class="hero is-light" id="ablation">
  <div class="hero-body">
    <div class="container is-max-desktop is-centered">
      <h2 class="title has-text-centered">Ablation study</h2>
      <div id="results-carousel" class="carousel results-carousel">
        
        <div class="item item-steve" style="align-items: center;">
          <img src="./images/ablation/img3.png" id="output_image" >
         
        </div>
        
        <div class="item item-chair-tp">
          
          <img src="./images/ablation/img2.png" id="output_image">
          <!-- <video poster="" id="chair-tp" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/chair-tp.mp4"
                    type="video/mp4">
          </video> -->
        </div>
        <div class="item item-shiba">
          <img src="./images/ablation/img1.png" id="output_image">
          <!-- <video poster="" id="shiba" autoplay controls muted loop playsinline height="100%">
            <source src="./static/videos/shiba.mp4"
                    type="video/mp4">
          </video> -->
        </div>
        <div class="item item-shiba">
          <img src="./images/ablation/img4.png" id="output_image">
          
        </div>
        <div class="item item-shiba">
          <img src="./images/ablation/img7.png" id="output_image">
          
        </div>
        <div class="item item-shiba">
          <img src="./images/ablation/img6.png" id="output_image">
          
        </div>
        <div class="item item-shiba">
          <img src="./images/ablation/img5.png" id="output_image">
          
        </div>
        <!-- <div class="item item-shiba">
          <img src="./images/gligen/img_10.png" id="output_image">
          
        </div>
        <div class="item item-shiba">
          <img src="./images/gligen/img_horse_air.png" id="output_image">
          
        </div>
        <div class="item item-shiba">
          <img src="./images/gligen/img_11.png" id="output_image">
          
        </div> -->
       
      </div>
    </div>
  </div>
</section>
<!-- end ablation -->
<section class="hero" id="4methods">
  <div class="hero-body">
    <div class="container is-max-desktop is-centered">
      <h2 class="title has-text-centered">Comparison with existing methods</h2>
      <div id="results-carousel" class="carousel results-carousel">
        <div class="item item-steve" style="align-items: center;" >
          <img src="compare_4/img_0.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;" >
          <img src="compare_4/img_0_v2.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;" >
          <img src="compare_4/img_0_v3.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;" >
          <img src="compare_4/img_1.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="compare_4/img_2.png" id="output_image"  >
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="compare_4/img_3.png" id="output_image" >
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="compare_4/img_4.png" id="output_image" >
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="compare_4/img_5.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="compare_4/img_6.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="compare_4/img_7.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="compare_4/img_8.png" id="output_image">
        </div>
        
      </div>
    </div>
  </div>
</section>


<!-- controlnet -->
<section class="hero is-light" id="control">
  <div class="hero-body">
    <h2 class="title has-text-centered">Mask-based guidance </h2>
    <div class="container is-max-desktop is-centered">
      
      <h6 class="title has-text-centered">Applying Attention Refocusing to ControlNet </h6> 
      <div id="results-carousel" class="carousel results-carousel">
       
        <div class="item item-steve" style="align-items: center;">
          <img src="images/controlNet/img1.png" id="output_image"  >
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="images/controlNet/img9.png" id="output_image" >
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="images/controlNet/img3.png" id="output_image" >
        </div>
       
        
        <div class="item item-steve" style="align-items: center;">
          <img src="images/controlNet/img5.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="images/controlNet/img10.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="images/controlNet/img6.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="images/controlNet/img7.png" id="output_image">
        </div>
        
        <div class="item item-steve" style="align-items: center;">
          <img src="images/controlNet/img4.png" id="output_image">
        </div>
        
      </div>
      <hr>
    </div>
    

    <div class="container is-max-desktop is-centered">
      <h4 class="title has-text-centered">Comparison with DenseDiffusion [ Kim et al. ICCV 2023] </h4>
      <div id="results-carousel" class="carousel results-carousel">
       
        <div class="item item-steve" style="align-items: center;">
          <img src="images/mask/img0.png" id="output_image"  >
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="images/mask/img1.png" id="output_image" >
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="images/mask/img2.png" id="output_image" >
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="images/mask/img3.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="images/mask/img4.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="images/mask/img5.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="images/mask/img6.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="images/mask/img7.png" id="output_image">
        </div>
        <div class="item item-steve" style="align-items: center;">
          <img src="images/mask/img8.png" id="output_image">
        </div>
        
      </div>
    </div>

  </div>
</section>
<!-- control -->


    
    

    <!-- instruct -->
    <!-- <section class="hero is-light">
      <div class="hero-body">
        <div class="container is-max-desktop">
          <div class="columns is-centered">
            <div class="column is-full-width">
              <div class="content has-text-centered">
                <h2 class="title is-3 has-text-centered">Additional Applications</h2>
                <img src="images/halloween.gif" width="100%">
              </div>
            </div>
          </div>
         
            
          
        </div>
      </div>
    </section> -->
   
    <section class="hero" id="application">
      <div class="hero-body">
        <div class="container is-max-desktop">
          <h1 class="title is-3 has-text-centered" style="margin-bottom: 50px;margin-top:0px;">Additional applications</h1>
          
          <div class="columns is-centered">
            
              <img src="images/looped_cat_halloween_v2.gif" id ='out' width="70%">
              
            
          </div>
          <h2 class="title is-3 has-text-centered" style="font-family:roboto; font-size:22px">Instruct text-to-image model</h2>
          <hr>
          <div class="columns is-centered">
            
            <div class="col-md-1">
            </div>
            <div class="col-md-3" id="output_canvas">
              <div class=" has-text-centered">
                
                <p>
                  <span style="font-family:roboto; font-size:18px">An air hot balloon in the sky, oil painting</span>
                </p>
               
              </div>

              <div class="row justify-content-center">
                <img src="images/air_ballon_3.gif" id="output_image">
              </div>
              <hr>
              
            </div>
            <div class="col-md-1">
            </div>
            <div class="col-md-3" id="output_canvas">
              <div class=" has-text-centered">
                
                <p>
                  <span style="font-family:roboto; font-size:18px">A boat in the river, the sun setting</span>
                  
                </p>
               
              </div>

              <div class="row justify-content-center">
                <img src="images/boat.gif" id="output_image">
              </div>
            </div>
          </div>
          <h2 class="title is-3 has-text-centered" style="font-family:roboto; font-size:24px; margin-left: 60px">Objects shuffling  </h2>
          </div>
          </div>
          </section>

  <!-- Method & Workflow -->
  <!-- <section class="hero is-light">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column is-full-width">
            <div class="content has-text-centered">
              <h2 class="title is-3 has-text-centered">Attention Refocusing framework</h2>
              <img src="images/method_v2.png" width="150%">
            </div>
          </div>
        </div>
        <p>The proposed Attention-Refocusing framework. At each denoising step, we update the noised sample by optimizing our LCAR
          and LSAR losses (<span style="color:#f0995f;">red block</span>) before denoising with the predicted score (<span style="color:#e8d071;">yellow block</span>). For each cross-attention map, LCAR is designed to
          encourage a region to attend more to the corresponding token while discouraging the remaining region from attending to that token (<span style="color:#a4df7f;">green block</span>). For each self-attention map, LSAR prevents the pixels in a region from attending to irrelevant regions (<span style="color:#B4C7E7;">blue block</span>)</p>
          
        
      </div>
    </div>
  </section> -->
  <!--/ Method & Workflow -->
  <section class="hero is-light" id="2stage">
    <div class="hero-body">
      <div class="container is-max-desktop is-centered">
       

        <h2 class="title has-text-centered">Two stages text-to-image generation: GLIGEN +attention-refocusing as grounded text-to-image</h2>
        <div id="results-carousel" class="carousel results-carousel">
          <div class="item item-steve" style="align-items: center;" >
            <img src="./images/SD/SD5.png" id="output_image">
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="./images/SD/SD1.png" id="output_image"  >
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="./images/SD/SD2.png" id="output_image" >
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="./images/SD/SD3.png" id="output_image" >
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="./images/SD/SD4.png" id="output_image">
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="./images/SD/owl.png" id="output_image">
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="./images/SD/raccon.png" id="output_image">
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="./images/SD/army.png" id="output_image">
          </div>
          
        </div>
      </div>
    </div>
  </section>

  <section class="hero" id="dalle">
    <div class="hero-body">
      <div class="container is-max-desktop is-centered">
        <h2 class="title has-text-centered">Comparison between our two-stage text-to-image model and existing state-of-the-art methods</h2>
        <div id="results-carousel" class="carousel results-carousel">
          <div class="item item-steve" style="align-items: center;" >
            <img src="images_dalle/img1_apple.png" id="output_image">
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="images_dalle/img2_car.png" id="output_image"  >
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="images_dalle/img3_dog.png" id="output_image" >
          </div>
          <!-- <div class="item item-steve" style="align-items: center;">
            <img src="compare_4/img_4.png" id="output_image" >
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="compare_4/img_5.png" id="output_image">
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="compare_4/img_6.png" id="output_image">
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="compare_4/img_7.png" id="output_image">
          </div>
          <div class="item item-steve" style="align-items: center;">
            <img src="compare_4/img_8.png" id="output_image">
          </div> -->
          
        </div>
      </div>
    </div>
  </section>


  <section class="hero is-light" id="niceprompt">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column is-full-width">
            <div class="content has-text-centered">
              <h2 class="title is-3 has-text-centered">Diverse generation from our method (GLIGEN+Ours) </h2>
              <img src="images/nice_prompt.png" width="150%">
            </div>
          </div>
        </div>
      
          
        
      </div>
    </div>
  </section>

<!-- segmentation -->
<!-- <section class="hero is-light">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column is-full-width">
          <div class="content has-text-centered">
            <h2 class="title is-3 has-text-centered">Result of ControlNet using mask guidance</h2>
            <img src="images/controlnet.png" width="150%">
          </div>
        </div>
      </div>
    
        
      
    </div>
  </div>
</section> -->
 
   
  <section class="section">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column is-full-width">
          <div class="container is-max-desktop">
            <div class="columns is-centered">
              <div class="column is-full-width">
                <h2 class="title is-3 has-text-centered">References</h2>
                <div class="content has-text-justified">
                  <p>
                  </p>
                  [1] Chitwan Saharia, William Chan, Saurabh Saxena, Lala Li, Jay Whang, Emily L Denton,
                  Kamyar Ghasemipour, Raphael Gontijo Lopes, Burcu Karagol Ayan, Tim Salimans,
                  et al. <a href="https://arxiv.org/abs/2205.11487"> Photorealistic text-to-image
                    iffusion models with deep language understanding.</a> NeurIPS 2022.<br>
                  [2] Eslam Mohamed Bakr, Pengzhan Sun, Xiaoqian Shen, Faizan Farooq Khan, Li Erran
                  Li, and Mohamed Elhoseiny. <a href="https://arxiv.org/abs/2304.05390">HRS-Bench: Holistic, Reliable
                    and Scalable
                    Benchmark for Text-to-Image Models.</a> arXiv preprint arXiv:2304.05390, 2023.<br>
                  [3] Hila Chefer, Yuval Alaluf, Yael Vinker, Lior Wolf, and Daniel Cohen-Or. <a
                    href="https://arxiv.org/abs/2301.13826">Attend-and-excite: Attention-based semantic guidance for
                    text-to-image diffusion models.</a>SIGGRAPH, 2023.<br>
                  [4] HYuheng Li, Haotian Liu, Qingyang Wu, Fangzhou Mu, Jianwei Yang, Jianfeng Gao,
                  Chunyuan Li, and Yong Jae Lee. <a href="https://arxiv.org/abs/2301.07093">GLIGEN: Open-Set Grounded
                    Text-to-Image
                    Generation.</a> CVPR, 2023.<br>
                  [5] Omer Bar-Tal, Lior Yariv, Yaron Lipman, and Tali Dekel. <a
                    href="https://arxiv.org/abs/2301.07093">Multidiffusion: Fusing
                    diffusion paths for controlled image generation.</a> ICML, 2023.<br>
                  [6] Minghao Chen, Iro Laina, and Andrea Vedaldi. <a
                    href="https://arxiv.org/abs/2304.03373">Training-Free Layout Control
                    with Cross-Attention Guidance.</a> arXiv preprint arXiv:2304.03373.<br>
                </div>
                <!-- Prompt Interpolation image -->
              </div>
            </div>

            <!-- Acknowledgements. -->
            <!-- <div class="columns is-centered">
              <div class="column is-full-width">
                <h2 class="title is-3 has-text-centered">Acknowledgements</h2>
                <div class="content has-text-justified">
                  <p>
                    This work is partly supported by NSF grants no. IIS-1910132 and IIS-2213335.
                  </p>
                </div>
              </div>
            </div> -->
            <!--/ Acknowledgements. -->

          </div>
        </div>
      </div>
    </div>
  </section>

  

  <!-- <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <h2 class="title"><a id="bibtex">BibTeX</a></h2>
      <pre><code>@article{phung2023grounded,
    title={Grounded Text-to-Image Synthesis with Attention Refocusing},
    author={Phun, Quynh and Ge, Songwei and Huang, Jia-Bin},
    journal={arXiv preprint arXiv:},
    year={2023}
}</code></pre>
    </div>
  </section> -->


  <footer class="footer">
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">
          <p>
            This website is licensed under a <a rel="license"
              href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>
          <p>
            Website adapted from the following <a href="https://github.com/nerfies/nerfies.github.io">source code</a>.
          </p>
        </div>
      </div>
    </div>

  </footer>


  <script src="./assets/js/juxtapose.js"></script>

  <script src="./assets/js/popper.min.js"></script>
  <script src="./assets/js/bootstrap.min.js"></script>


  <script type="text/javascript">

    hrs_prompts = {
      "images/hrs_comparison/stable/counting/1.jpg": "two apples are sitting in a kitchen next to three microwaves, waiting to be cooked or eaten.",
      "images/hrs_comparison/stable/counting/2.jpg": "three sports balls are rolling around three bowls in a kitchen.",
      "images/hrs_comparison/stable/counting/3.jpg": "two fire hydrants stand side-by-side in an alleyway, while three donuts lay on the ground nearby.",
      "images/hrs_comparison/stable/counting/4.jpg": "three vases of different shapes and sizes are sitting on a shelf next to two wooden horses.",
      "images/hrs_comparison/stable/color/1.jpg": "a blue airplane and a green car.",
      "images/hrs_comparison/stable/color/2.jpg": "a red chair and a yellow dog.",
      "images/hrs_comparison/stable/color/3.jpg": "a green car and a blue chair.",
      "images/hrs_comparison/stable/color/4.jpg": "a green banana and a blue chair.",
      "images/hrs_comparison/stable/size/1.jpg": "a car and a dog, the car is smaller than the dog.",
      "images/hrs_comparison/stable/size/2.jpg": "a dog and a chair, the dog is bigger than the chair.",
      "images/hrs_comparison/stable/size/3.jpg": "a chair and a horse, the chair is bigger than the horse.",
      "images/hrs_comparison/stable/size/4.jpg": "a horse and a person, the horse is smaller than the person.",
      "images/hrs_comparison/stable/spatial/1.jpg": "a chair on the right of a horse.",
      "images/hrs_comparison/stable/spatial/2.jpg": "a car over a horse.",
      "images/hrs_comparison/stable/spatial/3.jpg": "a horse on the right of a chair and on a banana.",
      "images/hrs_comparison/stable/spatial/4.jpg": "a dog beneath a car and on the left of a person.",
      "images/hrs_comparison/gligen/counting/1.jpg": "two apples are sitting in a kitchen next to three microwaves, waiting to be cooked or eaten.",
      "images/hrs_comparison/gligen/counting/2.jpg": "three sports balls are rolling around three bowls in a kitchen.",
      "images/hrs_comparison/gligen/counting/3.jpg": "two fire hydrants stand side-by-side in an alleyway, while three donuts lay on the ground nearby.",
      "images/hrs_comparison/gligen/counting/4.jpg": "three vases of different shapes and sizes are sitting on a shelf next to two wooden horses.",
      "images/hrs_comparison/gligen/color/1.jpg": "a blue airplane and a green car.",
      "images/hrs_comparison/gligen/color/2.jpg": "a red chair and a yellow dog.",
      "images/hrs_comparison/gligen/color/3.jpg": "a green car and a blue chair.",
      "images/hrs_comparison/gligen/color/4.jpg": "a green banana and a blue chair.",
      "images/hrs_comparison/gligen/size/1.jpg": "a car and a dog, the car is smaller than the dog.",
      "images/hrs_comparison/gligen/size/2.jpg": "a dog and a chair, the dog is bigger than the chair.",
      "images/hrs_comparison/gligen/size/3.jpg": "a chair and a horse, the chair is bigger than the horse.",
      "images/hrs_comparison/gligen/size/4.jpg": "a horse and a person, the horse is smaller than the person.",
      "images/hrs_comparison/gligen/spatial/1.jpg": "a chair on the right of a horse.",
      "images/hrs_comparison/gligen/spatial/2.jpg": "a car over a horse.",
      "images/hrs_comparison/gligen/spatial/3.jpg": "a horse on the right of a chair and on a banana.",
      "images/hrs_comparison/gligen/spatial/4.jpg": "a dog beneath a car and on the left of a person.",
      "images/hrs_comparison/multi/counting/1.jpg": "two apples are sitting in a kitchen next to three microwaves, waiting to be cooked or eaten.",
      "images/hrs_comparison/multi/counting/2.jpg": "three sports balls are rolling around three bowls in a kitchen.",
      "images/hrs_comparison/multi/counting/3.jpg": "two fire hydrants stand side-by-side in an alleyway, while three donuts lay on the ground nearby.",
      "images/hrs_comparison/multi/counting/4.jpg": "three vases of different shapes and sizes are sitting on a shelf next to two wooden horses.",
      "images/hrs_comparison/multi/color/1.jpg": "a blue airplane and a green car.",
      "images/hrs_comparison/multi/color/2.jpg": "a red chair and a yellow dog.",
      "images/hrs_comparison/multi/color/3.jpg": "a green car and a blue chair.",
      "images/hrs_comparison/multi/color/4.jpg": "a green banana and a blue chair.",
      "images/hrs_comparison/multi/size/1.jpg": "a car and a dog, the car is smaller than the dog.",
      "images/hrs_comparison/multi/size/2.jpg": "a dog and a chair, the dog is bigger than the chair.",
      "images/hrs_comparison/multi/size/3.jpg": "a chair and a horse, the chair is bigger than the horse.",
      "images/hrs_comparison/multi/size/4.jpg": "a horse and a person, the horse is smaller than the person.",
      "images/hrs_comparison/multi/spatial/1.jpg": "a chair on the right of a horse.",
      "images/hrs_comparison/multi/spatial/2.jpg": "a car over a horse.",
      "images/hrs_comparison/multi/spatial/3.jpg": "a horse on the right of a chair and on a banana.",
      "images/hrs_comparison/multi/spatial/4.jpg": "a dog beneath a car and on the left of a person.",
      "images/hrs_comparison/layout-guidance/counting/1.jpg": "two apples are sitting in a kitchen next to three microwaves, waiting to be cooked or eaten.",
      "images/hrs_comparison/layout-guidance/counting/2.jpg": "three sports balls are rolling around three bowls in a kitchen.",
      "images/hrs_comparison/layout-guidance/counting/3.jpg": "two fire hydrants stand side-by-side in an alleyway, while three donuts lay on the ground nearby.",
      "images/hrs_comparison/layout-guidance/counting/4.jpg": "three vases of different shapes and sizes are sitting on a shelf next to two wooden horses.",
      "images/hrs_comparison/layout-guidance/color/1.jpg": "a blue airplane and a green car.",
      "images/hrs_comparison/layout-guidance/color/2.jpg": "a red chair and a yellow dog.",
      "images/hrs_comparison/layout-guidance/color/3.jpg": "a green car and a blue chair.",
      "images/hrs_comparison/layout-guidance/color/4.jpg": "a green banana and a blue chair.",
      "images/hrs_comparison/layout-guidance/size/1.jpg": "a car and a dog, the car is smaller than the dog.",
      "images/hrs_comparison/layout-guidance/size/2.jpg": "a dog and a chair, the dog is bigger than the chair.",
      "images/hrs_comparison/layout-guidance/size/3.jpg": "a chair and a horse, the chair is bigger than the horse.",
      "images/hrs_comparison/layout-guidance/size/4.jpg": "a horse and a person, the horse is smaller than the person.",
      "images/hrs_comparison/layout-guidance/spatial/1.jpg": "a chair on the right of a horse.",
      "images/hrs_comparison/layout-guidance/spatial/2.jpg": "a car over a horse.",
      "images/hrs_comparison/layout-guidance/spatial/3.jpg": "a horse on the right of a chair and on a banana.",
      "images/hrs_comparison/layout-guidance/spatial/4.jpg": "a dog beneath a car and on the left of a person.",
      "images/hrs_comparison/ours/counting/1.jpg": "two apples are sitting in a kitchen next to three microwaves, waiting to be cooked or eaten.",
      "images/hrs_comparison/ours/counting/2.jpg": "three sports balls are rolling around three bowls in a kitchen.",
      "images/hrs_comparison/ours/counting/3.jpg": "two fire hydrants stand side-by-side in an alleyway, while three donuts lay on the ground nearby.",
      "images/hrs_comparison/ours/counting/4.jpg": "three vases of different shapes and sizes are sitting on a shelf next to two wooden horses.",
      "images/hrs_comparison/ours/color/1.jpg": "a blue airplane and a green car.",
      "images/hrs_comparison/ours/color/2.jpg": "a red chair and a yellow dog.",
      "images/hrs_comparison/ours/color/3.jpg": "a green car and a blue chair.",
      "images/hrs_comparison/ours/color/4.jpg": "a green banana and a blue chair.",
      "images/hrs_comparison/ours/size/1.jpg": "a car and a dog, the car is smaller than the dog.",
      "images/hrs_comparison/ours/size/2.jpg": "a dog and a chair, the dog is bigger than the chair.",
      "images/hrs_comparison/ours/size/3.jpg": "a chair and a horse, the chair is bigger than the horse.",
      "images/hrs_comparison/ours/size/4.jpg": "a horse and a person, the horse is smaller than the person.",
      "images/hrs_comparison/ours/spatial/1.jpg": "a chair on the right of a horse.",
      "images/hrs_comparison/ours/spatial/2.jpg": "a car over a horse.",
      "images/hrs_comparison/ours/spatial/3.jpg": "a horse on the right of a chair and on a banana.",
      "images/hrs_comparison/ours/spatial/4.jpg": "a dog beneath a car and on the left of a person.",
      "images/hrs_comparison/box_layout/counting/1.jpg": "apples are sitting in a kitchen next to three microwaves, waiting to be cooked or eaten..jpg.",
      "images/hrs_comparison/box_layout/counting/2.jpg": "three sports balls are rolling around three bowls in a kitchen.",
      "images/hrs_comparison/box_layout/counting/3.jpg": "two fire hydrants stand side-by-side in an alleyway, while three donuts lay on the ground nearby.",
      "images/hrs_comparison/box_layout/counting/4.jpg": "three vases of different shapes and sizes are sitting on a shelf next to two wooden horses.",
      "images/hrs_comparison/box_layout/color/1.jpg": "blue airplane and a green car.",
      "images/hrs_comparison/box_layout/color/2.jpg": "red chair and a yellow dog.",
      "images/hrs_comparison/box_layout/color/3.jpg": "green car and a blue chair.",
      "images/hrs_comparison/box_layout/color/4.jpg": "green banana and a blue chair.",
      "images/hrs_comparison/box_layout/size/1.jpg": "car and a dog, the car is smaller than the dog.",
      "images/hrs_comparison/box_layout/size/2.jpg": "dog and a chair, the dog is bigger than the chair.",
      "images/hrs_comparison/box_layout/size/3.jpg": "chair and a horse, the chair is bigger than the horse.",
      "images/hrs_comparison/box_layout/size/4.jpg": "horse and a person, the horse is smaller than the person.",
      "images/hrs_comparison/box_layout/spatial/1.jpg": "chair on the right of a horse.",
      "images/hrs_comparison/box_layout/spatial/2.jpg": "car over a horse.",
      "images/hrs_comparison/box_layout/spatial/3.jpg": "horse on the right of a chair and on a banana",
      "images/hrs_comparison/box_layout/spatial/4.jpg": "dog beneath a car and on the left of a person",
      "images/hrs_comparison/att/counting/1.jpg": "two apples are sitting in a kitchen next to three microwaves, waiting to be cooked or eaten.",
      "images/hrs_comparison/att/counting/2.jpg": "three sports balls are rolling around three bowls in a kitchen.",
      "images/hrs_comparison/att/counting/3.jpg": "two fire hydrants stand side-by-side in an alleyway, while three donuts lay on the ground nearby.",
      "images/hrs_comparison/att/counting/4.jpg": "three vases of different shapes and sizes are sitting on a shelf next to two wooden horses.",
      "images/hrs_comparison/att/color/1.jpg": "a blue airplane and a green car.",
      "images/hrs_comparison/att/color/2.jpg": "a red chair and a yellow dog.",
      "images/hrs_comparison/att/color/3.jpg": "a green car and a blue chair.",
      "images/hrs_comparison/att/color/4.jpg": "a green banana and a blue chair.",
      "images/hrs_comparison/att/size/1.jpg": "a car and a dog, the car is smaller than the dog.",
      "images/hrs_comparison/att/size/2.jpg": "a dog and a chair, the dog is bigger than the chair.",
      "images/hrs_comparison/att/size/3.jpg": "a chair and a horse, the chair is bigger than the horse.",
      "images/hrs_comparison/att/size/4.jpg": "a horse and a person, the horse is smaller than the person.",
      "images/hrs_comparison/att/spatial/1.jpg": "a chair on the right of a horse.",
      "images/hrs_comparison/att/spatial/2.jpg": "a car over a horse.",
      "images/hrs_comparison/att/spatial/3.jpg": "a horse on the right of a chair and on a banana.",
      "images/hrs_comparison/att/spatial/4.jpg": "a dog beneath a car and on the left of a person.",
    }
    var currentHRSCategory = "color";
    var currentHRSMethod = "ours";
    var currentHRSID = "1";

    function ChangeHRSCat() {

      var currentHRSCategory = document.getElementById("hrs-cat-select").value;

      ChangeHRSImage();
    }

    function ChangeHRSID() {

      var currentHRSID = document.getElementById("hrs-id-select").value;

      ChangeHRSImage();
    }


    function ChangeHRSMethod() {
      var currentHRSMethod = document.getElementById("hrs-method-select").value;
      if (currentHRSMethod == 'att') {
        document.getElementById("method_author").innerHTML = "Hila Chefer, Yuval Alaluf, Yael Vinker, Lior Wolf, and Daniel Cohen-Or. <br> *Boxes are not used in this method.";
        document.getElementById("method_title").innerHTML = "Attend-and-excite: Attention-based semantic guidance for text-to-image diffusion models";
      }
      else if (currentHRSMethod == 'layout-guidance') {
        document.getElementById("method_author").innerHTML = "Minghao Chen, Iro Laina, and Andrea Vedaldi.";
        document.getElementById("method_title").innerHTML = "Training-Free Layout Control with Cross-Attention Guidance";
      }
      else if (currentHRSMethod == 'gligen') {
        document.getElementById("method_author").innerHTML = "Yuheng Li, Haotian Liu, Qingyang Wu, Fangzhou Mu, Jianwei Yang, Jianfeng Gao, Chunyuan Li, and Yong Jae Lee.";
        document.getElementById("method_title").innerHTML = "GLIGEN: Open-Set Grounded Text-to-Image Generation";
      }
      else if (currentHRSMethod == 'multi') {
        document.getElementById("method_author").innerHTML = "Omer Bar-Tal, Lior Yariv, Yaron Lipman, and Tali Dekel.";
        document.getElementById("method_title").innerHTML = "Multidiffusion: Fusing Diffusion Paths for Controlled Image Generation.";
      }
      else if (currentHRSMethod == 'stable') {
        document.getElementById("method_author").innerHTML = "Robin Rombach, Andreas Blattmann, Dominik Lorenz, Patrick Esser, and Björn Ommer. <br> *Boxes are not used in this method.";
        document.getElementById("method_title").innerHTML = "High-Resolution Image Synthesis with Latent Diffusion Models";
      }
      else {
        document.getElementById("method_author").innerHTML = "Anonymous";
        document.getElementById("method_title").innerHTML = "Grounded Text-to-Image Synthesis with Attention Refocusing";
      }

      ChangeHRSImage();
    }

    function ChangeHRSImage() {
      var currentHRSCategory = document.getElementById("hrs-cat-select").value;
      var currentHRSMethod = document.getElementById("hrs-method-select").value;
      var currentHRSID = document.getElementById("hrs-id-select").value;

      // Specify the directory path
      const directoryPath = "images/hrs_comparison/" + currentHRSMethod + "/" + currentHRSCategory + "/" + currentHRSID + ".jpg";

      var hrs_image = document.getElementById('hrs_image');
      hrs_image.src = "./images/hrs_comparison/" + currentHRSMethod + "/" + currentHRSCategory + "/" + currentHRSID + ".jpg";

      var hrs_box = document.getElementById('hrs_box');
      hrs_box.src = "./images/hrs_comparison/box_layout/" + currentHRSCategory + "/" + currentHRSID + ".jpg";

      var hrs_prompt = document.getElementById('hrs_prompt');
      hrs_prompt.innerText = hrs_prompts[directoryPath]

    }

    drawbench_prompts = {
      "images/drawbench_comparison/stable/counting/1.jpg": "One cat and two dogs sitting on the grass.",
      "images/drawbench_comparison/stable/counting/4.jpg": "Two cats and three dogs sitting on the grass.",
      "images/drawbench_comparison/stable/counting/7.jpg": "Three cats and one dog sitting on the grass.",
      "images/drawbench_comparison/stable/counting/9.jpg": "Three cats and two dogs sitting on the grass.",
      "images/drawbench_comparison/stable/counting/2.jpg": "Two cars on the street.",
      "images/drawbench_comparison/stable/counting/5.jpg": "Three cars on the street.",
      "images/drawbench_comparison/stable/counting/10.jpg": "Five cars on the street.",
      "images/drawbench_comparison/stable/counting/3.jpg": "Two dogs on the street.",
      "images/drawbench_comparison/stable/counting/6.jpg": "Three dogs on the street.",
      "images/drawbench_comparison/stable/spatial/1.jpg": "A banana on the left of an apple.",
      "images/drawbench_comparison/stable/spatial/4.jpg": "A car on the left of a bus.",
      "images/drawbench_comparison/stable/spatial/7.jpg": "A cat on the left of a dog.",
      "images/drawbench_comparison/stable/spatial/9.jpg": "A pizza on the right of a suitcase.",
      "images/drawbench_comparison/stable/spatial/2.jpg": "A cat on the right of a tennis racket.",
      "images/drawbench_comparison/stable/spatial/5.jpg": "A stop sign on the right of a refrigerator.",
      "images/drawbench_comparison/stable/spatial/8.jpg": "A zebra to the right of a fire hydrant.",
      "images/drawbench_comparison/stable/spatial/10.jpg": "A wine glass on top of a dog.",
      "images/drawbench_comparison/stable/spatial/3.jpg": "A bicycle on top of a boat.",
      "images/drawbench_comparison/stable/spatial/6.jpg": "A giraffe underneath a microwave.",
      "images/drawbench_comparison/gligen/counting/1.jpg": "One cat and two dogs sitting on the grass.",
      "images/drawbench_comparison/gligen/counting/4.jpg": "Two cats and three dogs sitting on the grass.",
      "images/drawbench_comparison/gligen/counting/7.jpg": "Three cats and one dog sitting on the grass.",
      "images/drawbench_comparison/gligen/counting/9.jpg": "Three cats and two dogs sitting on the grass.",
      "images/drawbench_comparison/gligen/counting/2.jpg": "Two cars on the street.",
      "images/drawbench_comparison/gligen/counting/5.jpg": "Three cars on the street.",
      "images/drawbench_comparison/gligen/counting/8.jpg": "Four cars on the street.",
      "images/drawbench_comparison/gligen/counting/10.jpg": "Five cars on the street.",
      "images/drawbench_comparison/gligen/counting/3.jpg": "Two dogs on the street.",
      "images/drawbench_comparison/gligen/counting/6.jpg": "Three dogs on the street.",
      "images/drawbench_comparison/gligen/spatial/1.jpg": "A banana on the left of an apple.",
      "images/drawbench_comparison/gligen/spatial/4.jpg": "A car on the left of a bus.",
      "images/drawbench_comparison/gligen/spatial/7.jpg": "A cat on the left of a dog.",
      "images/drawbench_comparison/gligen/spatial/9.jpg": "A pizza on the right of a suitcase.",
      "images/drawbench_comparison/gligen/spatial/2.jpg": "A cat on the right of a tennis racket.",
      "images/drawbench_comparison/gligen/spatial/5.jpg": "A stop sign on the right of a refrigerator.",
      "images/drawbench_comparison/gligen/spatial/8.jpg": "A zebra to the right of a fire hydrant.",
      "images/drawbench_comparison/gligen/spatial/10.jpg": "A wine glass on top of a dog.",
      "images/drawbench_comparison/gligen/spatial/3.jpg": "A bicycle on top of a boat.",
      "images/drawbench_comparison/gligen/spatial/6.jpg": "A giraffe underneath a microwave.",
      "images/drawbench_comparison/our/counting/1.jpg": "One cat and two dogs sitting on the grass.",
      "images/drawbench_comparison/our/counting/4.jpg": "Two cats and three dogs sitting on the grass.",
      "images/drawbench_comparison/our/counting/7.jpg": "Three cats and one dog sitting on the grass.",
      "images/drawbench_comparison/our/counting/9.jpg": "Three cats and two dogs sitting on the grass.",
      "images/drawbench_comparison/our/counting/2.jpg": "Two cars on the street.",
      "images/drawbench_comparison/our/counting/5.jpg": "Three cars on the street.",
      "images/drawbench_comparison/our/counting/8.jpg": "Four cars on the street.",
      "images/drawbench_comparison/our/counting/10.jpg": "Five cars on the street.",
      "images/drawbench_comparison/our/counting/3.jpg": "Two dogs on the street.",
      "images/drawbench_comparison/our/counting/6.jpg": "Three dogs on the street.",
      "images/drawbench_comparison/our/spatial/1.jpg": "A banana on the left of an apple.",
      "images/drawbench_comparison/our/spatial/4.jpg": "A car on the left of a bus.",
      "images/drawbench_comparison/our/spatial/7.jpg": "A cat on the left of a dog.",
      "images/drawbench_comparison/our/spatial/9.jpg": "A pizza on the right of a suitcase.",
      "images/drawbench_comparison/our/spatial/2.jpg": "A cat on the right of a tennis racket.",
      "images/drawbench_comparison/our/spatial/5.jpg": "A stop sign on the right of a refrigerator.",
      "images/drawbench_comparison/our/spatial/8.jpg": "A zebra to the right of a fire hydrant.",
      "images/drawbench_comparison/our/spatial/10.jpg": "A wine glass on top of a dog.",
      "images/drawbench_comparison/our/spatial/3.jpg": "A bicycle on top of a boat.",
      "images/drawbench_comparison/our/spatial/6.jpg": "A giraffe underneath a microwave.",
      "images/drawbench_comparison/layout/counting/1.jpg": "cat and two dogs sitting on the grass.",
      "images/drawbench_comparison/layout/counting/4.jpg": "cats and three dogs sitting on the grass.",
      "images/drawbench_comparison/layout/counting/7.jpg": "cats and one dog sitting on the grass.",
      "images/drawbench_comparison/layout/counting/9.jpg": "cats and two dogs sitting on the grass.",
      "images/drawbench_comparison/layout/counting/2.jpg": "cars on the street.",
      "images/drawbench_comparison/layout/counting/5.jpg": "cars on the street.",
      "images/drawbench_comparison/layout/counting/8.jpg": "cars on the street.",
      "images/drawbench_comparison/layout/counting/10.jpg": "cars on the street.",
      "images/drawbench_comparison/layout/counting/3.jpg": "dogs on the street.",
      "images/drawbench_comparison/layout/counting/6.jpg": "dogs on the street.",
      "images/drawbench_comparison/layout/spatial/1.jpg": "banana on the left of an apple.",
      "images/drawbench_comparison/layout/spatial/4.jpg": "car on the left of a bus.",
      "images/drawbench_comparison/layout/spatial/7.jpg": "cat on the left of a dog.",
      "images/drawbench_comparison/layout/spatial/9.jpg": "pizza on the right of a suitcase.",
      "images/drawbench_comparison/layout/spatial/2.jpg": "cat on the right of a tennis racket.",
      "images/drawbench_comparison/layout/spatial/5.jpg": "stop sign on the right of a refrigerator.",
      "images/drawbench_comparison/layout/spatial/8.jpg": "zebra to the right of a fire hydrant.",
      "images/drawbench_comparison/layout/spatial/10.jpg": "wine glass on top of a dog.",
      "images/drawbench_comparison/layout/spatial/3.jpg": "bicycle on top of a boat.",
      "images/drawbench_comparison/layout/spatial/6.jpg": "giraffe underneath a microwave.",
      "images/drawbench_comparison/multi_diffusion/counting/1.jpg": "One cat and two dogs sitting on the grass.",
      "images/drawbench_comparison/multi_diffusion/counting/4.jpg": "Two cats and three dogs sitting on the grass.",
      "images/drawbench_comparison/multi_diffusion/counting/7.jpg": "Three cats and one dog sitting on the grass.",
      "images/drawbench_comparison/multi_diffusion/counting/9.jpg": "Three cats and two dogs sitting on the grass.",
      "images/drawbench_comparison/multi_diffusion/counting/2.jpg": "Two cars on the street.",
      "images/drawbench_comparison/multi_diffusion/counting/8.jpg": "Four cars on the street.",
      "images/drawbench_comparison/multi_diffusion/counting/10.jpg": "Five cars on the street.",
      "images/drawbench_comparison/multi_diffusion/counting/3.jpg": "Two dogs on the street.",
      "images/drawbench_comparison/multi_diffusion/counting/6.jpg": "Three dogs on the street.",
      "images/drawbench_comparison/multi_diffusion/spatial/1.jpg": "A banana on the left of an apple.",
      "images/drawbench_comparison/multi_diffusion/spatial/4.jpg": "A car on the left of a bus.",
      "images/drawbench_comparison/multi_diffusion/spatial/7.jpg": "A cat on the left of a dog.",
      "images/drawbench_comparison/multi_diffusion/spatial/9.jpg": "A pizza on the right of a suitcase.",
      "images/drawbench_comparison/multi_diffusion/spatial/2.jpg": "A cat on the right of a tennis racket.",
      "images/drawbench_comparison/multi_diffusion/spatial/5.jpg": "A stop sign on the right of a refrigerator.",
      "images/drawbench_comparison/multi_diffusion/spatial/8.jpg": "A zebra to the right of a fire hydrant.",
      "images/drawbench_comparison/multi_diffusion/spatial/10.jpg": "A wine glass on top of a dog.",
      "images/drawbench_comparison/multi_diffusion/spatial/3.jpg": "A bicycle on top of a boat.",
      "images/drawbench_comparison/multi_diffusion/spatial/6.jpg": "A giraffe underneath a microwave.",
      "images/drawbench_comparison/layout_guidance/counting/1.jpg": "One cat and two dogs sitting on the grass.",
      "images/drawbench_comparison/layout_guidance/counting/4.jpg": "Two cats and three dogs sitting on the grass.",
      "images/drawbench_comparison/layout_guidance/counting/7.jpg": "Three cats and one dog sitting on the grass.",
      "images/drawbench_comparison/layout_guidance/counting/2.jpg": "Two cars on the street.",
      "images/drawbench_comparison/layout_guidance/counting/5.jpg": "Three cars on the street.",
      "images/drawbench_comparison/layout_guidance/counting/8.jpg": "Four cars on the street.",
      "images/drawbench_comparison/layout_guidance/counting/10.jpg": "Five cars on the street.",
      "images/drawbench_comparison/layout_guidance/counting/3.jpg": "Two dogs on the street.",
      "images/drawbench_comparison/layout_guidance/counting/6.jpg": "Three dogs on the street.",
      "images/drawbench_comparison/layout_guidance/spatial/1.jpg": "A banana on the left of an apple.",
      "images/drawbench_comparison/layout_guidance/spatial/4.jpg": "A car on the left of a bus.",
      "images/drawbench_comparison/layout_guidance/spatial/7.jpg": "A cat on the left of a dog.",
      "images/drawbench_comparison/layout_guidance/spatial/9.jpg": "A pizza on the right of a suitcase.",
      "images/drawbench_comparison/layout_guidance/spatial/2.jpg": "A cat on the right of a tennis racket.",
      "images/drawbench_comparison/layout_guidance/spatial/5.jpg": "A stop sign on the right of a refrigerator.",
      "images/drawbench_comparison/layout_guidance/spatial/8.jpg": "A zebra to the right of a fire hydrant.",
      "images/drawbench_comparison/layout_guidance/spatial/10.jpg": "A wine glass on top of a dog.",
      "images/drawbench_comparison/layout_guidance/spatial/3.jpg": "A bicycle on top of a boat.",
      "images/drawbench_comparison/layout_guidance/spatial/6.jpg": "A giraffe underneath a microwave.",
      "images/drawbench_comparison/att/counting/1.jpg": "One cat and two dogs sitting on the grass.",
      "images/drawbench_comparison/att/counting/4.jpg": "Two cats and three dogs sitting on the grass.",
      "images/drawbench_comparison/att/counting/7.jpg": "Three cats and one dog sitting on the grass.",
      "images/drawbench_comparison/att/counting/9.jpg": "Three cats and two dogs sitting on the grass.",
      "images/drawbench_comparison/att/counting/2.jpg": "Two cars on the street.",
      "images/drawbench_comparison/att/counting/5.jpg": "Three cars on the street.",
      "images/drawbench_comparison/att/counting/8.jpg": "Four cars on the street.",
      "images/drawbench_comparison/att/counting/10.jpg": "Five cars on the street.",
      "images/drawbench_comparison/att/counting/3.jpg": "Two dogs on the street.",
      "images/drawbench_comparison/att/counting/6.jpg": "Three dogs on the street.",
      "images/drawbench_comparison/att/spatial/1.jpg": "A banana on the left of an apple.",
      "images/drawbench_comparison/att/spatial/4.jpg": "A car on the left of a bus.",
      "images/drawbench_comparison/att/spatial/7.jpg": "A cat on the left of a dog.",
      "images/drawbench_comparison/att/spatial/9.jpg": "A pizza on the right of a suitcase.",
      "images/drawbench_comparison/att/spatial/2.jpg": "A cat on the right of a tennis racket.",
      "images/drawbench_comparison/att/spatial/5.jpg": "A stop sign on the right of a refrigerator.",
      "images/drawbench_comparison/att/spatial/8.jpg": "A zebra to the right of a fire hydrant.",
      "images/drawbench_comparison/att/spatial/10.jpg": "A wine glass on top of a dog.",
      "images/drawbench_comparison/att/spatial/3.jpg": "A bicycle on top of a boat.",
      "images/drawbench_comparison/att/spatial/6.jpg": "A giraffe underneath a microwave.",
    }

    var currentDrawBenchCategory = "color";
    var currentDrawBenchMethod = "ours";
    var currentDrawBenchID = "1";

    function ChangeDrawBenchCat() {

      var currentDrawBenchCategory = document.getElementById("drawbench-cat-select").value;

      ChangeDrawBenchImage();
    }

    function ChangeDrawBenchID() {

      var currentDrawBenchID = document.getElementById("drawbench-id-select").value;

      ChangeDrawBenchImage();
    }


    function ChangeDrawBenchMethod() {
      var currentDrawBenchMethod = document.getElementById("drawbench-method-select").value;
      if (currentDrawBenchMethod == 'att') {
        document.getElementById("drawbench_method_author").innerHTML = "Hila Chefer, Yuval Alaluf, Yael Vinker, Lior Wolf, and Daniel Cohen-Or. <br> *Boxes are not used in this method.";
        document.getElementById("drawbench_method_title").innerHTML = "Attend-and-excite: Attention-based semantic guidance for text-to-image diffusion models";
      }
      else if (currentDrawBenchMethod == 'layout_guidance') {
        document.getElementById("drawbench_method_author").innerHTML = "Minghao Chen, Iro Laina, and Andrea Vedaldi.";
        document.getElementById("drawbench_method_title").innerHTML = "Training-Free Layout Control with Cross-Attention Guidance";
      }
      else if (currentDrawBenchMethod == 'gligen') {
        document.getElementById("drawbench_method_author").innerHTML = "Yuheng Li, Haotian Liu, Qingyang Wu, Fangzhou Mu, Jianwei Yang, Jianfeng Gao, Chunyuan Li, and Yong Jae Lee.";
        document.getElementById("drawbench_method_title").innerHTML = "GLIGEN: Open-Set Grounded Text-to-Image Generation";
      }
      else if (currentDrawBenchMethod == 'multi_diffusion') {
        document.getElementById("drawbench_method_author").innerHTML = "Omer Bar-Tal, Lior Yariv, Yaron Lipman, and Tali Dekel.";
        document.getElementById("drawbench_method_title").innerHTML = "Multidiffusion: Fusing Diffusion Paths for Controlled Image Generation.";
      }
      else if (currentDrawBenchMethod == 'stable') {
        document.getElementById("drawbench_method_author").innerHTML = "Robin Rombach, Andreas Blattmann, Dominik Lorenz, Patrick Esser, and Björn Ommer. <br> *Boxes are not used in this method.";
        document.getElementById("drawbench_method_title").innerHTML = "High-Resolution Image Synthesis with Latent Diffusion Models";
      }
      else {
        document.getElementById("drawbench_method_author").innerHTML = "Anonymous";
        document.getElementById("drawbench_method_title").innerHTML = "Grounded Text-to-Image Synthesis with Attention Refocusing";
      }

      ChangeDrawBenchImage();
    }

    function ChangeDrawBenchImage() {
      var currentDrawBenchCategory = document.getElementById("drawbench-cat-select").value;
      var currentDrawBenchMethod = document.getElementById("drawbench-method-select").value;
      var currentDrawBenchID = document.getElementById("drawbench-id-select").value;

      // Specify the directory path
      const directoryPath = "images/drawbench_comparison/" + currentDrawBenchMethod + "/" + currentDrawBenchCategory + "/" + currentDrawBenchID + ".jpg";

      var drawbench_image = document.getElementById('drawbench_image');
      drawbench_image.src = "./images/drawbench_comparison/" + currentDrawBenchMethod + "/" + currentDrawBenchCategory + "/" + currentDrawBenchID + ".jpg";

      var drawbench_box = document.getElementById('drawbench_box');
      drawbench_box.src = "./images/drawbench_comparison/layout/" + currentDrawBenchCategory + "/" + currentDrawBenchID + ".jpg";

      var drawbench_prompt = document.getElementById('drawbench_prompt');
      drawbench_prompt.innerText = drawbench_prompts[directoryPath]

    }

  </script>

  <script type="text/javascript">
    var currentProList = ["panda" , "cat", "raccoon","dog" ];
    var currentPro = "panda";
    var currentActList = ["crown", "party", 'cowboy', 'mushroom'];
    var currentAct = "crown";
    var currentLocList = ["tv", "cake", "plant"];
    var currentLoc = "tv";

    function ChangeProtagonist(idx) {
      var li_list = document.getElementById("current-pro-ul").children;
      console.log(idx);
      console.log(li_list);
      for (i = 0; i < li_list.length; i++) {
        li_list[i].className = "flex-sm-fill text-sm-center nav-link";
      }
      li_list[idx].className = "flex-sm-fill text-sm-center nav-link active";
      currentPro = currentProList[idx];
      document.getElementById("output_canvas").style.display = 'block';

      ChangeImageComp();
    }

    function ChangeWearing(idx) {
      var li_list = document.getElementById("current-act-ul").children;
      console.log(idx);
      console.log(li_list);
      for (i = 0; i < li_list.length; i++) {
        li_list[i].className = "flex-sm-fill text-sm-center nav-link";
      }
      li_list[idx].className = "flex-sm-fill text-sm-center nav-link active";
      currentAct = currentActList[idx];
      document.getElementById("output_canvas").style.display = 'block';

      ChangeImageComp();
    }

    function ChangeObject(idx) {
      var li_list = document.getElementById("current-loc-ul").children;
      console.log(idx);
      console.log(li_list);
      for (i = 0; i < li_list.length; i++) {
        li_list[i].className = "flex-sm-fill text-sm-center nav-link";
      }
      li_list[idx].className = "flex-sm-fill text-sm-center nav-link active";
      currentLoc = currentLocList[idx];
      document.getElementById("output_canvas").style.display = 'block';

      ChangeImageComp();
    }

    function ChangeImageComp() {
      var image = document.getElementById('output_image');
      image.src = "./images/compositionality/" + currentPro + "_" + currentAct + "_" + currentLoc + ".jpg";
    }

  </script>
</body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration>

</html>
